"use strict";(self["webpackChunkportfolio"]=self["webpackChunkportfolio"]||[]).push([[679],{2679:(e,s,i)=>{i.r(s),i.d(s,{default:()=>S});var l=i(9835),t=i(6970);const a={class:"column items-center"},r=(0,l._)("h6",{class:"text-center"},"Liste des images dans le stockage",-1),c={key:1},o={class:"row justify-center"},n=(0,l._)("h6",{class:"text-center"},"Liste des vidéos dans le stockage",-1),m={key:0,class:"row justify-center q-col-gutter-sm q-mr-sm q-ml-sm q-mt-sm q-mb-sm"},u={key:1},d={class:"row justify-center"};function f(e,s,i,f,h,p){const g=(0,l.up)("q-img"),w=(0,l.up)("q-avatar"),v=(0,l.up)("q-item-section"),k=(0,l.up)("q-btn"),y=(0,l.up)("q-item"),q=(0,l.up)("q-list"),W=(0,l.up)("q-spinner-cube"),_=(0,l.up)("q-card-section"),b=(0,l.up)("q-video"),V=(0,l.up)("q-card"),I=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",a,[r,h.fichiersImages.images.length>0?((0,l.wg)(),(0,l.j4)(q,{key:0,class:"col-8"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(h.fichiersImages.images,((e,s)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(y,{key:s,clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{style:{height:"50px",width:"50px"},src:h.fichiersImages.urls[s]},null,8,["src"])])),_:2},1024)])),_:2},1024),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(e.name),1)])),_:2},1024),(0,l.Wm)(v,{class:"row"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"col",label:"Vérifier l'utilisation",flat:""}),(0,l.Wm)(k,{onClick:s=>p.deleteImage(e.name),class:"col",color:"negative",label:"Supprimer",flat:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)),[[I]]))),128))])),_:1})):((0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",o,[(0,l.Wm)(W,{color:"primary",size:"5.5em"})])]))]),n,h.fichiersVideo.videos.length>0?((0,l.wg)(),(0,l.iD)("div",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(h.fichiersVideo.videos,((e,s)=>((0,l.wg)(),(0,l.iD)("div",{key:s,class:"col-md-4 col-sm-5 col-xs-10"},[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(e.name),1)])),_:2},1024),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{ratio:16/9,src:h.fichiersVideo.urls[s]},null,8,["src"])])),_:2},1024),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{onClick:s=>p.deleteVideo(e.name),class:"col",color:"negative",label:"Supprimer",flat:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])))),128))])):((0,l.wg)(),(0,l.iD)("div",u,[(0,l._)("div",d,[(0,l.Wm)(W,{color:"primary",size:"5.5em"})])]))],64)}var h=i(9302);const p={data(){return{utils:(0,h.Z)(),fichiersImages:{images:[],urls:[]},fichiersVideo:{videos:[],urls:[]}}},async mounted(){await this.refresh()},methods:{async refresh(){let e=await this.$store.dispatch("fetchAllImages");this.fichiersImages.images=e.images,this.fichiersImages.urls=e.urls;let s=await this.$store.dispatch("fetchAllVideo");this.fichiersVideo.videos=s.videos,this.fichiersVideo.urls=s.urls},async deleteImage(e){this.utils.dialog({title:"Attention !",message:"Vous etes sur de vouloir supprimer l'image "+e+" ?",cancel:!0,persistent:!0,ok:{label:"Supprimer",color:"negative",flat:!0},cancel:{label:"fermer",flat:!0,color:"secondary"}}).onOk((async()=>{await this.$store.dispatch("deleteImage",{image:e}),await this.refresh()}))},async deleteVideo(e){this.utils.dialog({title:"Attention !",message:"Vous etes sur de vouloir supprimer la vidéo "+e+" ?",cancel:!0,persistent:!0,ok:{label:"Supprimer",color:"negative",flat:!0},cancel:{label:"fermer",flat:!0,color:"secondary"}}).onOk((async()=>{await this.$store.dispatch("deleteVideo",{video:e}),await this.refresh()}))}}};var g=i(1639),w=i(3246),v=i(490),k=i(1233),y=i(1357),q=i(1487),W=i(8879),_=i(9155),b=i(4458),V=i(3190),I=i(1005),Z=i(1722),Q=i(9984),C=i.n(Q);const D=(0,g.Z)(p,[["render",f]]),S=D;C()(p,"components",{QList:w.Z,QItem:v.Z,QItemSection:k.Z,QAvatar:y.Z,QImg:q.Z,QBtn:W.Z,QSpinnerCube:_.Z,QCard:b.Z,QCardSection:V.Z,QVideo:I.Z}),C()(p,"directives",{Ripple:Z.Z})}}]);